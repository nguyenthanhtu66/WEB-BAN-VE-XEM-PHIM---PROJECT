<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>WEB BÁN VÉ XEM PHIM</title>
    <link rel="stylesheet" href=".idea/style.css">
</head>

<body>
    <div id="app" class="app">
        <div class="header-label" id="header-label">
            <div class="header-container">
                <div class="header-account">
                    <div class="header-account">Đăng Ký | Đăng Nhập</div>
                </div>
            </div>
        </div>
        <div class="header-menu" id="header-menu">
            <div class="menu-container">
                <a class="logo" href="#">
                    <img src="logo.png" alt="dtn logo">
                </a>
                <div class="menu-item">TRANG CHỦ</div>
                <div class="menu-item">GIỚI THIỆU</div>
                <div class="menu-item">LIÊN HỆ</div>
                <div class="menu-item">ĐẶT VÉ</div>
                <div class="menu-item">TIN TỨC </div>
            </div>
        </div>
        <div class="main-container" id="main-container">
            <div class="slideshow-container">

                <div class="slider-container" id="mySlider">
                    <div class="slider-track">
                        <div class="slide"> <img
                                src="https://media.lottecinemavn.com/Media/WebAdmin/90f3d123eed94b9ab16f0755f3617ac0.jpg"
                                alt=""></div>

                    </div>
                </div>
                <button class="slider-btn prev" id="prevBtn">❮</button>
                <button class="slider-btn next" id="nextBtn">❯</button>
                <div class="slider-dots" id="sliderDots">
                </div>
            </div>
            <div class="filter-bar">
                <select id="filter-genre">
                    <option value="">Chọn Phim</option>
                </select>

                <select id="filter-cinema">
                    <option value="">Chọn rạp</option>
                </select>

                <select id="filter-location">
                    <option value="">Chọn Thời Gian</option>
                </select>
                <button id="reset-button">
                    Đặt vé nhanh
                </button>
            </div>
            <div class="movie-selection">
                <div class="movie-status" id="playing-movies" onclick="toggleMovies('playing')">PHIM ĐANG CHIẾU</div>
                <div class="movie-status" id="upcoming-movies" onclick="toggleMovies('upcoming')">PHIM SẮP CHIÊU</div>
            </div>
            <div class="movie-selection-content" id="movie-content">
            </div>
            <button class="see-more-btn" id="see-more">Xem thêm</button>
        </div>
        <div class="footer" id="footer">
            <div class="footer-container">
                <div class="footer-top">
                    <ul class="footer-menu">
                        <li><a href="#">Trang chủ</a></li>
                        <li><a href="#">Phim</a></li>
                        <li><a href="#">Tin tức</a></li>
                        <li><a href="#">Liên hệ</a></li>
                    </ul>
                    <div class="footer-apps">
                        <a href="#"><img src="https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg" alt="Google Play"></a>
                        <a href="#"><img src="https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg" alt="App Store"></a>
                    </div>

                    <div class="footer-social">
                        <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook"></a>
                        <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png" alt="YouTube"></a>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>Đề tài project môn lập trình web của nhóm 33</p>
                </div>
            </div>
        </div>
    </div>
    <script>
        //list phim dang chieu
        function renderMovies(list) {
            const movieContent = document.getElementById("movie-content");
            movieContent.innerHTML = ""; // xóa cũ
            list.forEach(movie => {
                const card = document.createElement("div");
                card.className = "movie-card";
                card.innerHTML = `
                <img class="movie-poster" src="${movie.poster}" alt="${movie.title}">
                <div class="movie-info" style="padding: 15px;">
                    <h3 style="font-size: 18px; font-weight: 700; color: #000;">${movie.title}</h3>
                    <p style="font-size: 14px; color: #555; margin: 5px 0;">${movie.genre}</p>
                    <p style="font-size: 13px; color: #777;">⏱ ${movie.duration}</p>
                    <p style="font-size: 14px; color: #e50914; font-weight: 600; margin-top: 8px;">★ ${movie.rating}/10</p>
                </div>
            `;
                movieContent.appendChild(card);
            });
        }
        //switch phim dang chieu , phim sap chieu
        function toggleMovies(type) {
            const playingTab = document.getElementById("playing-movies");
            const upcomingTab = document.getElementById("upcoming-movies");
            const movieContent = document.getElementById("movie-content");

            // Bảo vệ lỗi
            if (!playingTab || !upcomingTab || !movieContent) {
                console.error("Lỗi: Không tìm thấy các phần tử tab hoặc container phim.");
                return;
            }

            // 1. Gỡ bỏ class 'active' khỏi tất cả tab
            playingTab.classList.remove("active");
            upcomingTab.classList.remove("active");
            // kiểm tra xem người đang ở tab nào thì render list của tab đó
            let targetList;
            let targetTab;

            if (type === "playing") {
                targetList = playingMovies;
                targetTab = playingTab;
            } else { // Khi type là 'upcoming'
                targetList = upcomingMovies;
                targetTab = upcomingTab;
            }
            // 2. Gán class active cho tab được chọn
            targetTab.classList.add("active");
            // Hiệu ứng chuyển đổi tab
            movieContent.classList.add("fade-out");
            const fadeDuration = 250; // độ trễ khi render nội dung 0.3s
            setTimeout(() => {
                renderMovies(targetList);
                applyFilters();
                movieContent.classList.remove("fade-out");
            }, fadeDuration);
        }

        window.onload = () => {

            document.getElementById("playing-movies").classList.add("active");
            renderMovies(playingMovies);

            toggleMovies('playing');
        }
        function renderEmptyMovies(count = 4) {
            const movieContent = document.getElementById("movie-content");
            movieContent.innerHTML = ""; // xóa cũ

            for (let i = 0; i < count; i++) {
                const card = document.createElement("div");
                card.className = "movie-card empty";
                card.innerHTML = `
      <div class="movie-poster placeholder"></div>
      <div class="movie-info" style="padding: 15px;">
        <div class="placeholder-text title"></div>
        <div class="placeholder-text genre"></div>
        <div class="placeholder-text duration"></div>
        <div class="placeholder-text rating"></div>
      </div>
    `;
                movieContent.appendChild(card);
            }
        }

        function toggleMovies(type) {
            const playingTab = document.getElementById("playing-movies");
            const upcomingTab = document.getElementById("upcoming-movies");
            const movieContent = document.getElementById("movie-content");

            playingTab.classList.remove("active");
            upcomingTab.classList.remove("active");

            if (type === "playing") {
                playingTab.classList.add("active");
            } else {
                upcomingTab.classList.add("active");
            }

            // Hiệu ứng mờ khi chuyển tab
            movieContent.classList.add("fade-out");
            setTimeout(() => {
                renderEmptyMovies();
                movieContent.classList.remove("fade-out");
            }, 250);
        }

        window.onload = () => {
            document.getElementById("playing-movies").classList.add("active");
            renderEmptyMovies();
        };
    </script>
</body>

</html>